# Effective Java

상태: 진행 중
작성일시: 2022년 10월 5일 오전 12:33

# 상속을 고려해 설계하고 문서화하라. 
그러지 않았다면 상속을 금지하라

---

- 상속의 위험성
    
    외부 클래스를 상속할 때의 위험성은 앞선 '상속보다 컴포지션을 사용하라'라는 게시글에서 다뤘다. 여기서 외부란 프러그래머 통제권 밖에 있어서 언제 어떻게 변경될지 모른다는 뜻이다. 예를 들어  Set, List 같이 프로그래머가 직접 다루지 않는 클래스들을 말한다.
    

<aside>
💡 Set, List 복습하기

</aside>

- 상속은 문서화를 요구한다.
    
    메소드를 재정의하면 어떤 일이 일어나는지를 정확히 정리하여 문서로 남겨야 한다. 즉, 상속용 클래스는 재정의할 수 있는 메서드들을 내부적을 어떻게 이용하는지 문서로 남겨야한다.
    
    상속용 클래스에서 재정의 가능한 메서드는 어ㄸㅎ게 동작하는지 문서화해야할 필요가 있다. 만약, 재정의 가능한 메소드가 내부의 대른 재정의 가능한 메서드를 호출해서 사용하는 상황이라면 기능이 오작동 할 수 있다.
    
    재정의 가능한 메서드는 final이 아닌 public, protect 메서드를 의미하고 어떤 순서로 호출되는지, 각각의 호출 결과가 이어지는 처리에 어떤 영향을 주는 지도 담아야한다. 넓게 말하면 재정의 가능 메서드를 호출할 수 있는 모든 상황을 문서화 해야한다.
    

```java
public boolean addAll(Collection<? extends E> c){
		boolean modified = false;
		for (E e : e)
				if(add(e))
						modified = true;
		return modified;

// ex) HashSet 클래스의 addAll메서드가 내부의 add메서드를 사용하는 경우
```